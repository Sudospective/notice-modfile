<Mods LoadCommand = "%xero(function(self)

	GAMESTATE:LaunchAttack(0, 999, 'scalable2')

	for pn = 1, 2 do
		setupJudgeProxy(PJ[pn], P[pn]:GetChild('Judgment'), pn)
		setupJudgeProxy(PC[pn], P[pn]:GetChild('Combo'), pn)
	end
	for pn = 1, #PP do
		PP[pn]:SetTarget(P[pn])
		P[pn]:hidden(1)
	end

	self:fov(70)

	for pn = 1, 2 do
		P[pn]:x(scx)
	end

	function bigmood(beat)
		swap {beat + 2.75, 0.25, outExpo, 'rldu'}
		ease {beat + 3.5, 0.5, bounce, 1500, 'tinyz', 150, 'zoomy', -30, 'rotationx'}

		ease {beat + 6.75, 0.5, inExpo, 50, 'stealth'}
		swap {beat + 6.75, 0.25, outExpo, 'ldur'}
		set {beat + 6.75, 0, 'hide'}
		set {beat + 7.25, 0, 'hide'}
		set {beat + 7.375, 100, 'hide'}
		set {beat + 7.50, 0, 'hide'}
		set {beat + 7.625, 100, 'hide'}
		set {beat + 7.75, 0, 'hide'}
		set {beat + 7.875, 100, 'hide'}
		set {beat + 8, 0, 'hide', 0, 'stealth'}

		swap {beat + 10.75, 0.25, outExpo, 'durl'}
		ease {beat + 11.5, 0.5, bounce, 1500, 'tinyz', 150, 'zoomy', -30, 'rotationx'}
	end


	set {0, 1, 'clearall'}
	set {0.1, 1.5, 'xmod', 0, 'stealthglow', (314.15 * 2), 'confusionzoffset'}

	bigmood(0)

	for i = 0, 24, 4 do
		swap {i, 0.25, outExpo, 'drul'} -- rdul
		swap {i + 1, 0.25, outExpo, 'ulrd'} -- drul
		swap {i + 1.5, 0.25, outExpo, 'ludr'} -- drlu
		swap {i + 2, 0.25, outExpo, 'dlru'} -- dlru
	end

	ease {15, 1, pop, 30, 'stealth'}
	swap {15, 0.25, outExpo, 'dlru'}
	ease {15, 1, bounce, -30, 'cross', 15, 'reverse'}
	ease {14.5, 1, spike, -2000, 'tiny', 300, 'tipsy', 150, 'drunk'}
	ease {15, 1, outQuint, 0, 'confusionzoffset'}
	swap {15, 1, linear, 'ldur'}
	set {16, 0, 'stealth'}

	bigmood(16)

	swap {28, 0.25, outExpo, 'ldur'}

	ease {30.75, 0.5, spike, 5, 'xmod', 300, 'tiny'}
	add {30.75, 0.5, inOutBack, 1, 'xmod', 50, 'mini'}

	ease {31.5, 1, spike, -2500, 'tiny', 50, 'reverse', 50, 'flip'}
	ease {31.5, 0.5, inExpo, 0, 'mini'}
	
	for i = 31.5, 158.5, 1 do
		add {i, 1, spike, 30, 'y'}
	end


	set {95, 100, 'hidden', 400, 'hiddenoffset', plr = 1}
	set {95,
		0.75, 'xmod',
		100, 'sudden',
		15, 'suddenoffset',
		50, 'reverse',
		100, 'dark',
		200, 'y',
		200, 'tiny',
		-50, 'invert',
		50, 'flip',
		plr = 2
	}

	ease {96, 4, linear, -80, 'hiddenoffset', plr = 1}
	ease {96, 4, linear, -100, 'suddenoffset', plr = 2}

	-- taro made this haunted house like 5x cleaner and comfier to read
	set {95, -(314.15 * 0.5), 'confusionzoffset3', plr = 2}
	add {95, 2, inOutBack, -(314.15 * 1), 'confusionzoffset2', (314.15 * 0.65), 'confusionzoffset3', plr = 2}
	add {96, 1, pop, -500, 'tiny', 30, 'stealth'}
	add {96, 1, pop, -60, 'confusionyoffset3', 60, 'confusionxoffset2', -25, 'invert', -100, 'y', plr = 2}
	add {96, 1, outQuad, -250, 'tiny', -50, 'invert', -100, 'y', plr = 2}
	add {96, 2, inOutBack, (314.15 * 0.5), 'confusionzoffset2', -(314.15 * 0.3), 'confusionzoffset3', plr = 2}
	add {97, 1, pop, -500, 'tiny', 30, 'stealth'}
	add {97, 1, pop, 60, 'confusionyoffset3', -60, 'confusionxoffset2', -25, 'invert', -100, 'y', plr = 2}
	add {97, 1, outQuad, -250, 'tiny', -50, 'invert', plr = 2}
	add {97, 3, inOutBack, (314.15 * 2), 'confusionxoffset3', -(314.15 * 2), 'confusionyoffset2', (314.15 * 0.5), 'confusionzoffset2', (314.15 * 0.3), 'confusionzoffset3', plr = 2}
	add {98, 1, pop, -500, 'tiny', 30, 'stealth'}
	add {98, 1, pop, -60, 'confusionyoffset3', 60, 'confusionxoffset2', -25, 'invert', -100, 'y', plr = 2}
	add {98, 1, outQuad, -250, 'tiny', -50, 'invert', -50, 'y', plr = 2}
	add {99, 1, pop, -500, 'tiny', 30, 'stealth'}
	add {99, 1, pop, 60, 'confusionyoffset3', -60, 'confusionxoffset2', -25, 'invert', -50, 'y', plr = 2}
	ease {99, 1, inQuad, 0, 'tiny', 0, 'invert', 0, 'flip', 0, 'reverse', 0, 'y', plr = 2}

	ease {100, 0, instant,
		0, 'sudden',
		0, 'suddenoffset',
		0, 'hidden',
		0, 'hiddenoffset',
		2, 'xmod',
		0, 'reverse',
		0, 'dark',
		0, 'tiny',
		0, 'invert',
		0, 'flip',
		0, 'confusionxoffset2',
		0, 'confusionyoffset2',
		0, 'confusionzoffset2',
		0, 'confusionxoffset3',
		0, 'confusionyoffset3',
		0, 'confusionzoffset3'
	}

	
	card {32, 95.5, 'if you hate the normal chart you should see the slumpage', 14, '#F53C3C'}
	card {96, 100.5, 'unhaunted house', 11, '#C9E6D3'}
	
end)"
Type = "ActorFrame"
><children>
	<Layer Type = "ActorProxy" Name = "PC[1]" />
	<Layer Type = "ActorProxy" Name = "PC[2]" />
	<Layer Type = "ActorProxy" Name = "PJ[1]" />
	<Layer Type = "ActorProxy" Name = "PJ[2]" />
	<Layer Type = "ActorProxy" Name = "PP[1]" />
	<Layer Type = "ActorProxy" Name = "PP[2]" />
</children></Mods>
